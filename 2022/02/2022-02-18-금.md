# 2022-02-23(수)

# Web Server

- 클라이언트로부터 HTTP 요청을 받아 HTML 문서와 같은 각종 리소스를 전달하는 컴퓨터
- 클라이언트에게 정적인 데이터만 전달할 수 있다. ex) HTML, CSS, 이미지 등
- 제품군: Apache, Nginx, MS IIS 등

→ 클라이언트에게 동적인 데이터를 전달하려면?

# WAS

- Web Application Server의 약자
    - Web Application: 웹 브라우저에서 이용할 수 있는 응용 소프트웨어
- 웹 에플리케이션가 서버 환경을 만들어 동작시키는 기능을 제공하는 소프트웨어 프레임워크
- Web Server + Web Container로 구성되어 있다.
- HTML 같은 정적인 페이지에서 처리할 수 없는 비즈니스 로직이나 DB 조회 같은 동적인 컨텐츠를 제공
- 제품군: Tomcat, Undertow, Jetty 등
- 동작 방식
    1. 클라이언트가 웹 서버에 데이터를 요청한다.
    2. 웹 서버에서 요청 받은 데이터를 확인
        
        2-1. 동적 컨텐츠라면 웹 컨테이너로 전송
        
        2-2. 정적 건텐츠라면 클라이언트에게 데이터를 전송
        
    3. 동적 컨텐츠를 받은 웹 컨테이너는 Servelet 구동 환경을 제공한다.
    4. 제공받은 환경에서 동적 컨텐츠를 생성하고 이를 웹서버에게 넘겨준다.
    5. 넘겨받은 동적 컨텐츠를 클라이언트에게 전송해준다.

<img src="https://user-images.githubusercontent.com/52793122/155315464-72747f82-2677-4a52-b58d-07671128fccd.png"  width="700" height="260"/>


cf) 컨테이너 : jsp나 servlet을 수행 시킬 수 있는 소프트웨어를 의미한다. 자바에서는 이를 웹 어플리케이션 컨테이너라고 부른다. 이는 간단하게 말해서 웹 앱이 배포되는 공간이라고 생각하면 된다.

## 빌드 시 생성 파일

외장 WAS 사용시

1. 웹앱 에플리케이션 빌드
2. war 파일 생성 (.class 파일, jsp, 이미지, css, 자바 스크립트 등이 압축)
3. tomcat 특정 폴더 안에 war 파일을 넣고 명령어로 실행하면 스프링 서비스가 실행된다.

내장 WAS 사용시

- 웹앱 에플리케이션 파일 + 톰캣이 들어있는 jar파일 생성