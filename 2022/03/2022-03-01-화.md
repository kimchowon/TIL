# 2-2.IoC, DI, 그리고 컨테이너

# 제어의 역전: IoC(Inversion of Control)

- 스프링에 국한된 단어는 아님. 보통은 개발자가 원하는대로 객체를 생성하고 호출하는 제어 방식인데 제어의 역전은 프레임워크가 내 코드를 대신 호출해주는 것. 말 그대로 제어권이 뒤바뀌는 것을 말한다.
- 클라이언트 객체에서 자신이 필요한 서버 구현 객체를 생성하고 연결하고 실행하는 것이 아니라 구현 객체를 생성하고 연결해주는 설정자를 별도로 만듦으로써 클라이언트와 서버는 오로직 자신의 로직만 수행하면 되는 것이다.
- 이렇게 프로그램의 제어 흐름을 직접 제어하는 것이 아니라 외부에서 관리하는 것을 제어의 역전이라고 합니다.

### 프레임워크 vs 라이브러리

프레임워크과 라이브러리를 구분하는 기준에 제어의 역전이 있다. 

- 프레임워크
    - 내가 작성한 코드를 제어하고 대신 실행해준다.
    - 정해진 실행 로직 속에서 개발자가 작성한 코드가 그 일부로 실행되는 방식. 내가 제어권을 가지고 있지 않음.
    - ex) JUnit
- 라이브러리
    - 내가 작성한 코드에서 필요한 라이브러리를 직접 호출
    - 내가 작성한 코드가 직접 제어의 흐름을 담당함.

# 의존 관계 주입: DI(Dependency Injection)

- 외부에서 두 객체 간의 관계를 결정해주는 방법
- 인터페이스를 사이에 둬서 클래스 레벨에서는 의존 관계가 고정되지 않도록 하고 런타임 시에 관계를 다이나믹하게 주입하여 유연성을 확보하고 결합도를 낮춘다.
    - 그래서 의존 관계는 정적인 클래스 의존 관계와, 실행 시점에 결정되는 동적인 객체 의존 관계 둘을 분리해서 생각해야 한다.
- 애플리케이션 실행 시점(런타임)에 외부에서 실제 구현 객체를 생성하고 클라이언트에 전달해서 클라이언트와 서버의 실제 의존 관계가 연결되는 것을 의조 관계 주입이라고 한다.

# IoC 컨테이너, DI 컨테이너

- 객체를 생성하고 관리하면서 의존 관계를 연결해주는 것을 IoC 컨테이너, DI 컨테이너라고 한다.
- 의존 관계 주입에 초점을 맞추어 최근에는 주로 DI 컨테이너라고 한다.