# JPA에서 save할때 select 쿼리가 먼저 실행되는 이유

스프링 데이터 JPA의 JpaRepository로 save를 해보다가 이상한 점을 발견했다. 

MEMBER 테이블에 회원 객체를 저장하는 테스트 코드를 작성했다. 

```jsx
@Test
@DisplayName("회원 객체 등록 테스트")
void insertMemberTest() {
    // given
    Member member = Member.builder().id("id1").username("초원").age(26).build();

    // when
    Member saveMember = memberRepository.save(member);

    // then
    assertEquals(saveMember.getUsername(), "초원");
}
```

쿼리 로그를 출력해보니 insert 쿼리 전에 select 쿼리가 실행되고 있었다. 

```jsx
Hibernate: 
    /* load com.study.entity.Member */ select
        member0_.id as id1_0_0_,
        member0_.age as age2_0_0_,
        member0_.name as name3_0_0_ 
    from
        member member0_ 
    where
        member0_.id=?
```

select쿼리가 실행된 후에 insert 쿼리가 실행되었다. 

```jsx
Hibernate: 
    /* insert com.study.entity.Member
        */ insert 
        into
            member
            (age, name, id) 
        values
            (?, ?, ?)
```